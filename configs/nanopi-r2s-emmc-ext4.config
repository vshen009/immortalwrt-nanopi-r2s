#
# === ImmortalWrt for NanoPi R2S eMMC (ext4 rootfs, online resize supported) ===
#

CONFIG_TARGET_rockchip=y
CONFIG_TARGET_rockchip_armv8=y
CONFIG_TARGET_rockchip_armv8_DEVICE_friendlyarm_nanopi-r2s=y

# -------------------------
# RootFS & Partition config
# -------------------------
CONFIG_TARGET_ROOTFS_EXT4FS=y
# CONFIG_TARGET_ROOTFS_SQUASHFS is not set
CONFIG_TARGET_ROOTFS_PARTSIZE=8192

# 内核支持 ext4 在线扩容
CONFIG_KERNEL_EXT4_FS=y
CONFIG_KERNEL_EXT4_FS_POSIX_ACL=y
CONFIG_KERNEL_EXT4_FS_SECURITY=y
CONFIG_KERNEL_EXT4_FS_RESIZE_ONLINE=y

# -------------------------
# 系统基础与网络配置
# -------------------------
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_fstools=y
CONFIG_PACKAGE_mkf2fs=y
CONFIG_PACKAGE_partx-utils=y
CONFIG_PACKAGE_fdisk=y
CONFIG_PACKAGE_uboot-envtools=y
CONFIG_PACKAGE_e2fsprogs=y
CONFIG_PACKAGE_resize2fs=y
CONFIG_PACKAGE_lsblk=y
CONFIG_PACKAGE_blkid=y
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_libc=y
CONFIG_PACKAGE_libgcc=y
CONFIG_PACKAGE_logd=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_netifd=y
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_odhcpd-ipv6only=y
CONFIG_PACKAGE_nftables=y
CONFIG_PACKAGE_kmod-nft-offload=y
CONFIG_PACKAGE_kmod-nf-nathelper=y
CONFIG_PACKAGE_kmod-nf-nathelper-extra=y
CONFIG_PACKAGE_ppp=y
CONFIG_PACKAGE_ppp-mod-pppoe=y
CONFIG_PACKAGE_uci=y
CONFIG_PACKAGE_uclient-fetch=y
CONFIG_PACKAGE_urandom-seed=y
CONFIG_PACKAGE_urngd=y
CONFIG_PACKAGE_dropbear=y
CONFIG_PACKAGE_default-settings-chn=y
CONFIG_PACKAGE_procd-ujail=y
CONFIG_PACKAGE_blockd=y
CONFIG_PACKAGE_automount=y
CONFIG_PACKAGE_autocore=y
CONFIG_PACKAGE_kmod-gpio-button-hotplug=y
CONFIG_PACKAGE_kmod-usb-net-rtl8152=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_libustream-openssl=y

# -------------------------
# LuCI & 常用插件
# -------------------------
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-light=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-lib-base=y
CONFIG_PACKAGE_luci-lib-ipkg=y
CONFIG_PACKAGE_luci-app-package-manager=y
CONFIG_PACKAGE_luci-app-cpufreq=y

# 主题
CONFIG_PACKAGE_luci-theme-argon=y

# Zerotier
CONFIG_PACKAGE_luci-app-zerotier=y
CONFIG_PACKAGE_luci-i18n-zerotier-zh-cn=y

# DDNS-Go
CONFIG_PACKAGE_luci-app-ddns-go=y
CONFIG_PACKAGE_luci-i18n-ddns-go-zh-cn=y

# OpenClash
CONFIG_PACKAGE_luci-app-openclash=y

# -------------------------
# 语言与地区支持
# -------------------------
CONFIG_BUILD_PATENTED=y
CONFIG_LUCI_LANG_zh_Hans=y

# -------------------------
# 其他内核优化（可选）
# -------------------------
CONFIG_KERNEL_ARM_PMU=y
CONFIG_KERNEL_CRYPTO_HW=y
CONFIG_KERNEL_SCHED_AUTOGROUP=y

# -------------------------
# 默认网络与主机名
# -------------------------
CONFIG_TARGET_PREINIT_IP="192.168.123.1"
CONFIG_LAN_IPADDR="192.168.123.1"
CONFIG_GENERAL_HOSTNAME="HuaXi01"
